<!DOCTYPE html> 
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ショップマップ（フィルター付き）</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<div id="filter-toggle" title="フィルターを表示">
  <i class="fas fa-sliders-h"></i>
</div>

<div id="map-container">
  <div id="filter-panel">
    <div class="filter-group" id="genre-options">
      <h4>ジャンル</h4>
      <div class="filter-parent">
        <div class="parent-toggle" data-group="izakaya">
            <i class="fas fa-chevron-right toggle-icon"></i>
            <label class="parent-label">
                <input type="checkbox" class="parent-checkbox" data-group="izakaya"> 
                居酒屋
            </label>
        </div>
        <div class="filter-children" data-group="izakaya">
            <label><input type="checkbox" data-category="genre" value="居酒屋"> 居酒屋</label>
            <label><input type="checkbox" data-category="genre" value="立ち飲み"> 立ち飲み</label>
            <label><input type="checkbox" data-category="genre" value="ビアガーデン"> ビアガーデン</label>
            <label><input type="checkbox" data-category="genre" value="ビアホール"> ビアホール</label>
            <label><input type="checkbox" data-category="genre" value="ダイニングバー"> ダイニングバー</label>
            <label><input type="checkbox" data-category="genre" value="バル"> バル</label>
        </div>
      </div>

      <div class="filter-parent">
        <div class="parent-toggle" data-group="bar">
            <i class="fas fa-chevron-right toggle-icon"></i>
            <label class="parent-label">
                <input type="checkbox" class="parent-checkbox" data-group="bar"> 
                バー
            </label>
        </div>
        <div class="filter-children" data-group="bar">
            <label><input type="checkbox" data-category="genre" value="バー"> バー</label>
            <label><input type="checkbox" data-category="genre" value="ビアバー"> ビアバー</label>
            <label><input type="checkbox" data-category="genre" value="ワインバー"> ワインバー</label>
            <label><input type="checkbox" data-category="genre" value="日本酒バー"> 日本酒バー</label>
        </div>
      </div>

      <div class="filter-parent">
        <div class="parent-toggle" data-group="wasyoku">
            <i class="fas fa-chevron-right toggle-icon"></i>
            <label class="parent-label">
                <input type="checkbox" class="parent-checkbox" data-group="wasyoku">
                和食
            </label>
        </div>
        <div class="filter-children" data-group="wasyoku">
            <label><input type="checkbox" data-category="genre" value="焼き鳥"> 焼き鳥</label>
            <label><input type="checkbox" data-category="genre" value="海鮮"> 海鮮</label>
            <label><input type="checkbox" data-category="genre" value="鳥料理"> 鳥料理</label>
            <label><input type="checkbox" data-category="genre" value="串揚げ"> 串揚げ</label> 
            <label><input type="checkbox" data-category="genre" value="沖縄料理"> 沖縄料理</label>      
            <label><input type="checkbox" data-category="genre" value="日本料理"> 日本料理</label>
            <label><input type="checkbox" data-category="genre" value="郷土料理"> 郷土料理</label>
            <label><input type="checkbox" data-category="genre" value="釜飯"> 釜飯</label>
            <label><input type="checkbox" data-category="genre" value="すき焼き"> すき焼き</label>
        </div>
      </div>

      <div class="filter-parent">
        <div class="parent-toggle" data-group="nabe">
            <i class="fas fa-chevron-right toggle-icon"></i>
            <label class="parent-label">
                <input type="checkbox" class="parent-checkbox" data-group="nabe">
                鍋
            </label>
        </div>
        <div class="filter-children" data-group="nabe">
            <label><input type="checkbox" data-category="genre" value="鍋"> 鍋</label>
            <label><input type="checkbox" data-category="genre" value="ちゃんこ鍋"> ちゃんこ鍋</label>      
            <label><input type="checkbox" data-category="genre" value="水炊き"> 水炊き</label>
            <label><input type="checkbox" data-category="genre" value="もつ鍋"> もつ鍋</label>
            <label><input type="checkbox" data-category="genre" value="しゃぶしゃぶ"> しゃぶしゃぶ</label>                   
        </div>
      </div>

      <div class="filter-parent">
        <div class="parent-toggle" data-group="yakiniku">
            <i class="fas fa-chevron-right toggle-icon"></i>
            <label class="parent-label">
                <input type="checkbox" class="parent-checkbox" data-group="yakiniku"> 
                焼肉・ホルモン
            </label>
        </div>
        <div class="filter-children" data-group="yakiniku">
            <label><input type="checkbox" data-category="genre" value="焼肉"> 焼肉</label>
            <label><input type="checkbox" data-category="genre" value="ホルモン"> ホルモン</label>
        </div>
      </div>

      <div class="filter-parent">
        <div class="parent-toggle" data-group="youshoku">
            <i class="fas fa-chevron-right toggle-icon"></i>
            <label class="parent-label">
                <input type="checkbox" class="parent-checkbox" data-group="youshoku">
                洋食・西洋料理
            </label>
        </div>
        <div class="filter-children" data-group="youshoku">
            <label><input type="checkbox" data-category="genre" value="洋食"> 洋食</label>
            <label><input type="checkbox" data-category="genre" value="ステーキ"> ステーキ</label>
            <label><input type="checkbox" data-category="genre" value="ハンバーグ"> ハンバーグ</label>
            <label><input type="checkbox" data-category="genre" value="イタリアン"> イタリアン</label>
            <label><input type="checkbox" data-category="genre" value="スペイン料理"> スペイン料理</label>
            <label><input type="checkbox" data-category="genre" value="ヨーロッパ料理"> ヨーロッパ料理</label>
        </div>
      </div>

      <div class="filter-parent">
        <div class="parent-toggle" data-group="chaina">
            <i class="fas fa-chevron-right toggle-icon"></i>
            <label class="parent-label">
                <input type="checkbox" class="parent-checkbox" data-group="chaina">
                中華料理
            </label>
        </div>
        <div class="filter-children" data-group="chaina">
            <label><input type="checkbox" data-category="genre" value="中華料理"> 中華料理</label>
            <label><input type="checkbox" data-category="genre" value="四川料理"> 四川料理</label>
            <label><input type="checkbox" data-category="genre" value="餃子"> 餃子</label>
            <label><input type="checkbox" data-category="genre" value="飲茶・点心"> 飲茶・点心</label>
        </div>
      </div>

      <div class="filter-parent">
        <div class="parent-toggle" data-group="other">
            <i class="fas fa-chevron-right toggle-icon"></i>
            <label class="parent-label">
                <input type="checkbox" class="parent-checkbox" data-group="other">
                その他レストラン
            </label>
        </div>
        <div class="filter-children" data-group="other">
            <label><input type="checkbox" data-category="genre" value="創作料理"> 創作料理</label> 
            <label><input type="checkbox" data-category="genre" value="BBQ"> BBQ</label>
        </div>
      </div>

      <div class="filter-parent">
        <div class="parent-toggle" data-group="cafe">
            <i class="fas fa-chevron-right toggle-icon"></i>
            <label class="parent-label">
                <input type="checkbox" class="parent-checkbox" data-group="cafe">
                カフェ・喫茶店
            </label>
        </div>
        <div class="filter-children" data-group="cafe">
            <label><input type="checkbox" data-category="genre" value="カフェ"> カフェ</label>      
        </div>
      </div>

      <div class="filter-parent">
        <div class="parent-toggle" data-group="sweet">
            <i class="fas fa-chevron-right toggle-icon"></i>
            <label class="parent-label">
                <input type="checkbox" class="parent-checkbox" data-group="sweet">
                スイーツ
            </label>
        </div>
        <div class="filter-children" data-group="sweet">
          <label><input type="checkbox" data-category="genre" value="ソフトクリーム"> ソフトクリーム</label>
        </div>
      </div>        
    </div>

    <div class="filter-group" id="scene-options">
      <h4>利用シーン</h4>
      <label><input type="checkbox" data-category="scene" value="大人数の宴会"> 大人数の宴会</label>
      <label><input type="checkbox" data-category="scene" value="デート"> デート</label>
      <label><input type="checkbox" data-category="scene" value="知人・友人と"> 知人・友人と</label>
      <label><input type="checkbox" data-category="scene" value="家族・子供と"> 家族・子供と</label>
      <label><input type="checkbox" data-category="scene" value="一人で入りやすい"> 一人で入りやすい</label>
      <label><input type="checkbox" data-category="scene" value="接待"> 接待</label>
      <label><input type="checkbox" data-category="scene" value="女子会"> 女子会</label>
    </div>

    <div class="filter-group" id="seat-options">
      <h4>席・設備</h4>
      <label><input type="checkbox" data-category="seat" value="貸切"> 貸切</label>
      <label><input type="checkbox" data-category="seat" value="個室"> 個室</label>
    </div>

    <div class="filter-group" id="course-options">
      <h4>コース</h4>
      <label><input type="checkbox" data-category="course" value="飲み放題"> 飲み放題</label>
      <label><input type="checkbox" data-category="course" value="食べ放題"> 食べ放題</label>
      <label><input type="checkbox" data-category="course" value="食べ飲み放題"> 食べ飲み放題</label>
    </div>

    <div class="filter-group" id="alcohol-options">
      <h4>こだわり</h4>
      <label><input type="checkbox" data-category="alcohol" value="ザ・パーフェクト黒ラベル"> ザ・パーフェクト黒ラベル</label>
      <label><input type="checkbox" data-category="alcohol" value="神泡"> 神泡</label>
      <label><input type="checkbox" data-category="alcohol" value="エクストラコールド"> エクストラコールド</label>
      <label><input type="checkbox" data-category="alcohol" value="ヱビス"> ヱビス</label>
      <label><input type="checkbox" data-category="alcohol" value="地ビール"> 地ビール</label>
      <label><input type="checkbox" data-category="alcohol" value="地酒"> 地酒</label>
      <label><input type="checkbox" data-category="alcohol" value="日本酒"> 日本酒</label>
      <label><input type="checkbox" data-category="alcohol" value="焼酎"> 焼酎</label>
      <label><input type="checkbox" data-category="alcohol" value="ワイン"> ワイン</label>
      <label><input type="checkbox" data-category="alcohol" value="カクテル"> カクテル</label>
    </div>

    <button id="clear-filters"><i class="fas fa-undo"></i>すべて解除</button>
  </div>

  <div id="map"></div>
</div>
<div id="search-bar">
  <input type="text" id="keyword" placeholder="店名・住所" autocomplete="off" />
  <ul id="autocomplete-list" style="display:none;"></ul>
</div>

<div id="shop-list"></div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="shops.js"></script>
<script src="main.js"></script>
<div id="usage-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>-----使い方ガイド-----</h3>
    <div class="guide-text">
      上部の検索バーに店名や住所を入力して検索できます。<br>
      右上の「フィルター」ボタンからジャンルやシーンなどで絞り込みも可能です。<br>
      店舗カードをクリックすると、地図がそのお店の位置に移動します。
    </div>
    <label><input type="checkbox" id="dont-show-again"> 今後このガイドを表示しない</label>
    <button id="close-usage-modal">閉じる</button>
  </div>
</div>


</body>
</html>